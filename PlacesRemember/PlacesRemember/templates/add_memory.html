{% extends 'base.html' %}

{% block content %}
  <h1 style="margin-bottom:30px;">Add Memory</h1>
  <div style="display: flex;">
    <div id="map" style="height:600px; width: 900px; margin-top:15px;"></div>
    <form method="post" style="margin-left: 20px;">
      {% csrf_token %}
      <div>
        <label for="{{ form.place.id_for_label }}" style="width: 500px; text-align: center; font-size: 20pt;">Name your memory</label><br>
        {{ form.place_name }}
      </div>
      <div>
        <label for="{{ form.comment.id_for_label }}" style="width: 500px; text-align: center;font-size: 20pt;">Describe it in detail</label><br>
        {{ form.comment }}
      </div>
      <button type="submit" class="btn btn-primary" style="width: 500px; height: 50px;">Save</button>
    </form>
  </div>

  <script src="https://api-maps.yandex.ru/2.1/?apikey=19c7478f-a13f-47d0-8203-faafa0904d09&lang=en_US" type="text/javascript"></script>
  <script>
    ymaps.ready(function() {
      var map = new ymaps.Map("map", {
        center: [56.014045391932896,92.85747575952672], // Initial map center coordinates
        zoom: 19 // Initial zoom level
      });

      var placemark;
      map.events.add('click', function(e) {
        var coords = e.get('coords');
        if (placemark) {
          placemark.geometry.setCoordinates(coords);
        } else {
          placemark = new ymaps.Placemark(coords);
          map.geoObjects.add(placemark);
        }
      });
    });
  </script>
{% endblock %}
